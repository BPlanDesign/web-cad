<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Gradient</title>
<style>
body{
	color:white;
}
canvas{
	border:1px #0F9 solid;
}
</style>
</head>

<body bgcolor="#000">
<hr/>
<button onclick="ctx.gBuilder=new com.hc.graphic.LineBuilder();">Line</button>
<button onclick="defRGradient();">Define radial gradient</button>
<button onclick="setColorStop();">Set Color Stop</button>
<span>Color:</span><input id="color"/>

<br />
<canvas id="canvas" width='600' height='500'> 
<p style="color:white;">Your browser doesn't support <code>&lt;canvas&gt;</code> element. You can try the following browser to use this functionality:</p>
<ol>
<li><a href="http://www.firefox.com/">Firefox</a></li>
<li><a href="http://www.google.com/chrome">Chrome</a></li>
<li><a href="http://www.opera.com/download/">Opera</a></li>
</ol>
</canvas>
<div id="monitor" style="float:right;color:white;">
<h3>Informaiton center</h3>
</div>
<hr />
</body>
<script src="/esl/js/core.js"></script>
<script src="/esl/dev/js/Util.js"></script>
<script src="/esl/js/graphics.js"></script>
<script src="/esl/js/colorPicker.js"></script>
<script type="text/javascript">
try{
	
	//var monitor=new com.hc.dev.util.Monitor(document.getElementById('monitor'));
	var color=document.getElementById('color');
	var picker=new cloud.color.Picker(color);
	var ctx=new com.hc.graphic.DrawingContext('canvas');
	ctx.color=color;
	console.log.(com.hc.graphic.LineBuilder);
/*
	var com;alert(!com);
var canvas=document.getElementById('canvas');
canvas.onmousedown=function(evt){
	com.hc.canvas.drawer.onMouseDown(evt);
}
canvas.onmousemove=com.hc.canvas.onMouseMove;
canvas.onmouseup=com.hc.canvas.drawer.onMouse
var ctx;
try{
	ctx=canvas.getContext('2d');
	}catch(e){
		alert('Your browser doesn\'t support canvas element.\nCause:'+e);
	}
ctx.strokeStyle='white';
var circles;
function defRGradient(){
	circles=new Array();
	clear();
	function beginDrawCircle(evt){
		var circle={};
		circles.push(circle);
		//find the circle center
		circle.center=new cloud.Coordinate(evt).getCoordRelativeTo(canvas);
		canvas.onmousemove=function(evt){
			clear();
			//calculate the circle radius
			circle.radius=distance(circle.center,new cloud.Coordinate(evt).getCoordRelativeTo(canvas));
			//draw all the circles
			for(var i=0;i<circles.length;i++){
				drawCircle(circles[i]);
			}
			if(circles.length==2){
					var c1=circles[0].center;
					var c2=circles[1].center;
					ctx.beginPath();
					ctx.moveTo(c1.x,c1.y);
					ctx.lineTo(c2.x,c2.y);
					ctx.stroke();
				}
				
			canvas.onclick=function(){
				//submit a circle
				canvas.onmousemove=null;
				if(circles.length==2){
					return;
				}
				//continue to draw the next circle
				canvas.onclick=beginDrawCircle;
			}
		}
	}
	canvas.onclick=beginDrawCircle;
}

function clear(){
	ctx.clearRect(0,0,canvas.width,canvas.height);
}

function drawCircle(circle){
	ctx.beginPath();
	ctx.arc(circle.center.x,circle.center.y,circle.radius,0,2*Math.PI,true);
	ctx.arc(circle.center.x,circle.center.y,2,0,2*Math.PI,true);
	ctx.stroke();
}
function distance(c1,c2){
	return Math.sqrt((c1.x-c2.x)*(c1.x-c2.x)+(c1.y-c2.y)*(c1.y-c2.y));
}*/

}catch(e){
	var m='Error!';
	for(var p in e){
		m+='\n'+p+':'+e[p];
	}
	alert(m);
}
</script>

</html>
