<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>webgl</title>
</head>

<body onload="webGLStart();">
  <hr />

  <canvas id="c1" style="border: none;" width="500" height="500">webgl not supported.</canvas>

<hr />
</body>
<script type="text/javascript">
var gl;
function initGL(canvas){
	try{
		gl = canvas.getContext("experimental-webgl");
     	 gl.viewportWidth = canvas.width;
     	 gl.viewportHeight = canvas.height;
	}catch(e){alert('Error happened:'+e);
	}
	if(!gl){
		alert("Could not initialise WebGL!");
	}
}
function getShader(gl, id) {
    var shaderScript = document.getElementById(id);
    if (!shaderScript) {
      return null;
    }

    var str = "";
    var k = shaderScript.firstChild;
    while (k) {
      if (k.nodeType == 3) {
        str += k.textContent;
      }
      k = k.nextSibling;
    }

    var shader;
    if (shaderScript.type == "x-shader/x-fragment") {
      shader = gl.createShader(gl.FRAGMENT_SHADER);
    } else if (shaderScript.type == "x-shader/x-vertex") {
      shader = gl.createShader(gl.VERTEX_SHADER);
    } else {
      return null;
    }

    gl.shaderSource(shader, str);
    gl.compileShader(shader);

    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
      alert(gl.getShaderInfoLog(shader));
      return null;
    }

    return shader;
  }
var canvas=document.getElementById('c1');
initGL(canvas);
alert('ok');
</script>


</html>
